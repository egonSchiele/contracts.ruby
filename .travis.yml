dist: trusty

language: ruby

before_install:
  - gem install bundler

rvm:
  - "1.9.2"
  - "1.9.3"
  - "2.0.0"
  - "2.1"
  - "2.2.8"
  - "2.3.5"
  - "2.4.2"
  - "jruby-1.7.27"

bundler_args: --without development

matrix:
  fast_finish: true

stages:
  - codestyle
  - test

jobs:
  include:
    - stage: codestyle
      script: bundle exec rubocop
      rvm: "2.4.2"
    - stage: test
      script: bundle exec rspec
    - stage: test
      script: bundle exec cucumber
      rvm:
        - "2.0.0"
        - "2.1"
        - "2.2.8"
        - "2.3.5"
        - "2.4.2"
