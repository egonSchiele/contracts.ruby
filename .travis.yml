dist: trusty

language: ruby

before_install:
  - gem install bundler

env:
  - TEST_SUITE=rspec
  - TEST_SUITE=cucumber

script: bundle exec $TEST_SUITE

rvm:
  - "1.9.2"
  - "1.9.3"
  - "2.0.0"
  - "2.1"
  - "2.2.8"
  - "2.3.5"
  - "2.4.2"
  - "jruby-1.7.27"

bundler_args: --without development

jobs:
  include:
    - stage: codestyle
      env: TEST_SUITE=none
      script: bundle exec rubocop
      rvm: "2.4.2"
